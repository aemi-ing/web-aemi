---
import hero from "../data/hero.json";
import ofertas from "../data/ofertas.json";

// URL directa de tu imagen en Google Drive
const driveBg =
  "/imagen_presentacion.png";
---

<section
  id="index"
  class="min-h-screen flex items-center justify-center text-center text-slate-50 relative overflow-hidden"
>
  <!-- 1) Imagen fija de fondo -->
  <div
    class="hero-bg-image absolute inset-0 -z-10"
    style={`background-image:url('${driveBg}');`}
    aria-hidden="true"
  ></div>

  <!-- 2) Gradiente azul para mantener la identidad -->
  <div class="hero-bg-gradient absolute inset-0 -z-10" aria-hidden="true"></div>

  <!-- 3) Arte por encima (bokeh + círculos SVG) -->
  

  <!-- Banner de promoción flotante - Solo si hay ofertas -->
  {ofertas.habilitado && (
    <div
      class="absolute top-12 left-1/2 z-20 animate-bounce-slow w-full flex justify-center"
    >
      <a
        href="#ofertas"
        class="bg-gradient-to-r from-orange-500 to-red-500 text-white px-4 py-2 rounded-full shadow-lg text-sm font-semibold flex items-center gap-2 hover:scale-105 transition-transform cursor-pointer scroll-smooth-link"
      >
        <div class="flex justify-center items-center">
          <span class="animate-pulse translate-3 text-xl">🔥</span>
        </div>
        <span>¡Ofertas Especiales Disponibles!</span>
        <span class="text-xs bg-white text-orange-500 px-2 py-1 rounded-full">VER</span>
      </a>
    </div>
  )}

  <!-- Contenido principal -->
  <div
    class="flex flex-col h-full justify-start z-10 px-10 md:px-20 w-full md:max-w-7xl mx-auto animate-fade-in-up"
  >
   
  <!--   <h1
      class="text-4xl lg:text-5xl xl:text-6xl font-bold mb-4 sm:mb-6 md:mb-8 leading-tight animate-fade-in-up"
    >
      {hero.titulo}
    </h1>-->

   

    
  <div class="flex justify-center items-center px-6 py-12 bg-transparent">
  
  <!-- Contenido del logo -->
  <div class="flex items-center gap-6">
    
    <!-- Favicon alineado a la altura del texto -->
    <img src="/favicon.png" alt="Logo AEMI" class="h-[160px] w-auto object-contain">

    <!-- Bloque de texto -->
    <div class="leading-[1.10] font-extrabold text-left">
      <div class="text-[68px] tracking-tight">
        <span class="text-[#003B84]">AEMI</span>
      </div>
      <div class="h-[3px] w-full bg-[#003B84] my-2"></div>
      <div class="text-[68px] tracking-tight -mt-3">
        <span class="text-[#00AEEF]">INGENIERĪA</span>
      </div>
      <div class="text-[20px] text-[#003B84] uppercase tracking-wide font-bold">
        Expertos en refrigeración y aires acondicionados.
      </div>
    </div>
  </div>
</div>

  
 <p
      class="text-lg md:text-2xl mb-6 sm:mb-8 md:mb-10 lg:mb-12 max-w-4xl mx-auto leading-relaxed animate-fade-in-up animation-delay-200"
    >
      {hero.descripcion}
    </p> 

    <!-- Botones -->
    <div
      class="flex flex-col sm:flex-row gap-3 sm:gap-4 md:gap-6 justify-center items-center w-full animate-fade-in-up animation-delay-400"
    >
      <a
        href="#contact"
        class="btn-primary w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 sm:px-6 md:px-8 py-2 sm:py-3 md:py-4 bg-gradient-to-r from-red-500 to-orange-500 hover:from-red-600 hover:to-orange-600 text-slate-50 font-semibold rounded-full transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-2xl text-sm sm:text-base md:text-lg"
      >
        <span class="text-lg sm:text-xl">{hero.botones[0].icono}</span>
        <span class="whitespace-nowrap">{hero.botones[0].texto}</span>
      </a>

      <a
        href="#services"
        class="btn-secondary w-full sm:w-auto inline-flex items-center justify-center gap-2 px-4 sm:px-6 md:px-8 py-2 sm:py-3 md:py-4 bg-transparent text-slate-50 font-semibold rounded-full border-2 border-slate-50 transition-all duration-300 hover:transform hover:-translate-y-1 hover:shadow-2xl hover:bg-slate-50 hover:text-blue-900 text-sm sm:text-base md:text-lg"
      >
        <span class="text-lg sm:text-xl">{hero.botones[1].icono}</span>
        <span class="whitespace-nowrap">{hero.botones[1].texto}</span>
      </a>
    </div>
  </div>

  <!-- Modal/Panel de Promociones - Solo si hay ofertas -->
  {ofertas.habilitado && (
    <div
      id="promocionesPanel"
      class="promociones-panel fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4 opacity-0 invisible transition-all duration-300"
    >
      <div
        class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl transform scale-95 transition-all duration-300"
      >
        <!-- Header del panel -->
        <div
          class="bg-gradient-to-r from-orange-500 to-red-500 p-6 text-white relative"
        >
          <button
            onclick="togglePromociones()"
            class="absolute top-4 right-4 text-white hover:text-gray-200 text-2xl font-bold"
            >×</button
          >
          <h2 class="text-2xl md:text-3xl font-bold mb-2 ">
            🔥 Promociones Especiales
          </h2>
          <p class="text-orange-100">Ofertas limitadas - ¡Aprovecha ahora!</p>
        </div>

        <!-- Contenido de promociones -->
        <div class="p-6">
          <div class="grid md:grid-cols-2 gap-6">
            <!-- Promoción 1 -->
            <div
              class="border-2 border-orange-200 rounded-xl p-6 hover:border-orange-400 transition-colors relative overflow-hidden"
            >
              <div
                class="absolute -top-3 -right-3 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full z-10"
              >
                20% OFF
              </div>
              <div class="absolute inset-0 opacity-10">
                <img 
                  src="https://images.unsplash.com/photo-1621905251918-48416bd8575a?w=400&h=300&fit=crop&crop=center" 
                  alt="Instalación de aire acondicionado"
                  class="w-full h-full object-cover rounded-xl"
                />
              </div>
              <div class="relative z-10">
                <div class="text-4xl mb-3">❄️</div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">
                  Instalación de Aire Acondicionado
                </h3>
                <p class="text-gray-600 mb-4">
                  Instalación completa + kit básico de mantenimiento incluido
                </p>
                <div class="text-2xl font-bold text-orange-500 mb-2">
                  Desde $299.990
                </div>
                <div class="text-sm text-gray-500 line-through mb-4">
                  Precio regular: $374.990
                </div>
                <button
                  class="w-full bg-orange-500 text-white py-2 rounded-lg hover:bg-orange-600 transition-colors"
                >
                  Solicitar Oferta
                </button>
              </div>
            </div>

            <!-- Promoción 2 -->
            <div
              class="border-2 border-blue-200 rounded-xl p-6 hover:border-blue-400 transition-colors relative overflow-hidden"
            >
              <div
                class="absolute -top-3 -right-3 bg-blue-500 text-white text-xs font-bold px-3 py-1 rounded-full z-10"
              >
                GRATIS
              </div>
              <div class="absolute inset-0 opacity-10">
                <img 
                  src="https://images.unsplash.com/photo-1616593380499-1e8c5f3eb6c3?w=400&h=300&fit=crop&crop=center" 
                  alt="Mantenimiento preventivo"
                  class="w-full h-full object-cover rounded-xl"
                />
              </div>
              <div class="relative z-10">
                <div class="text-4xl mb-3">🔧</div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">
                  Mantenimiento Preventivo
                </h3>
                <p class="text-gray-600 mb-4">
                  Revisión completa + limpieza + diagnóstico gratuito
                </p>
                <div class="text-2xl font-bold text-blue-500 mb-2">
                  Evaluación Gratis
                </div>
                <div class="text-sm text-gray-500 mb-4">Solo por este mes</div>
                <button
                  class="w-full bg-blue-500 text-white py-2 rounded-lg hover:bg-blue-600 transition-colors"
                >
                  Agendar Visita
                </button>
              </div>
            </div>

            <!-- Promoción 3 -->
            <div
              class="border-2 border-green-200 rounded-xl p-6 hover:border-green-400 transition-colors relative overflow-hidden"
            >
              <div
                class="absolute -top-3 -right-3 bg-green-500 text-white text-xs font-bold px-3 py-1 rounded-full z-10"
              >
                COMBO
              </div>
              <div class="absolute inset-0 opacity-10">
                <img 
                  src="https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=400&h=300&fit=crop&crop=center" 
                  alt="Casa completa con aire acondicionado"
                  class="w-full h-full object-cover rounded-xl"
                />
              </div>
              <div class="relative z-10">
                <div class="text-4xl mb-3">🏠</div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">
                  Paquete Casa Completa
                </h3>
                <p class="text-gray-600 mb-4">
                  2 Aires acondicionados + instalación + garantía extendida
                </p>
                <div class="text-2xl font-bold text-green-500 mb-2">$549.990</div>
                <div class="text-sm text-gray-500 line-through mb-4">
                  Precio regular: $699.990
                </div>
                <button
                  class="w-full bg-green-500 text-white py-2 rounded-lg hover:bg-green-600 transition-colors"
                >
                  Ver Detalles
                </button>
              </div>
            </div>

            <!-- Promoción 4 -->
            <div
              class="border-2 border-purple-200 rounded-xl p-6 hover:border-purple-400 transition-colors relative overflow-hidden"
            >
              <div
                class="absolute -top-3 -right-3 bg-purple-500 text-white text-xs font-bold px-3 py-1 rounded-full z-10"
              >
                URGENTE
              </div>
              <div class="absolute inset-0 opacity-10">
                <img 
                  src="https://images.unsplash.com/photo-1621905252472-e8592afb8f9d?w=400&h=300&fit=crop&crop=center" 
                  alt="Servicio de emergencia"
                  class="w-full h-full object-cover rounded-xl"
                />
              </div>
              <div class="relative z-10">
                <div class="text-4xl mb-3">⚡</div>
                <h3 class="text-xl font-bold text-gray-800 mb-2">
                  Servicio de Emergencia
                </h3>
                <p class="text-gray-600 mb-4">
                  Reparación urgente en menos de 4 horas
                </p>
                <div class="text-2xl font-bold text-purple-500 mb-2">
                  Sin recargo
                </div>
                <div class="text-sm text-gray-500 mb-4">Disponible 24/7</div>
                <button
                  class="w-full bg-purple-500 text-white py-2 rounded-lg hover:bg-purple-600 transition-colors"
                >
                  Llamar Ahora
                </button>
              </div>
            </div>
          </div>

          <!-- CTA final -->
          <div class="mt-8 text-center bg-gray-50 p-6 rounded-xl">
            <h3 class="text-xl font-bold text-gray-800 mb-2">
              ¿No encuentras lo que buscas?
            </h3>
            <p class="text-gray-600 mb-4">
              Contáctanos para ofertas personalizadas
            </p>
            <button
              class="bg-blue-600 text-white px-8 py-3 rounded-lg hover:bg-blue-700 transition-colors font-semibold"
            >
              Contactar Especialista
            </button>
          </div>
        </div>
      </div>
    </div>
  )}
</section>

<style>
  /* —— NUEVAS CAPAS DE FONDO —— */

  /* Capa 1: Foto fija */
  .hero-bg-image {
    background-size: cover;
    background-position: center;
    background-repeat: no-repeat;
    background-attachment: fixed;      /* efecto sutil parallax en desktop */
    filter: saturate(1.05) contrast(1.02) brightness(0.9);
    transform: translateZ(0);          /* hint GPU */
  }

  /* Capa 2: Gradiente (tu look azul) */
    .hero-bg-gradient {
    background-color: rgba(255, 255, 255, 0.30);  /* Blanco con 70% opacidad */
    mix-blend-mode: normal;                       /* Sin mezcla especial */
  }

  /* Capa 3: Arte (bokeh + SVG) */
  .hero-art { pointer-events: none; }

  .bokeh {
    width: 100%;
    height: 100%;
    background-image:
      radial-gradient(220px 220px at 10% 20%, rgba(255,255,255,0.12) 0%, rgba(255,255,255,0) 60%),
      radial-gradient(260px 260px at 85% 25%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0) 60%),
      radial-gradient(180px 180px at 30% 80%, rgba(255,255,255,0.10) 0%, rgba(255,255,255,0) 60%),
      radial-gradient(200px 200px at 70% 70%, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0) 60%);
    filter: blur(2px);
  }



  /* —— Animaciones que ya tenías —— */
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to   { opacity: 1; transform: translateY(0); }
  }
  .animate-fade-in-up { animation: fadeInUp 1s ease forwards; }
  .animation-delay-200 { animation-delay: 0.2s; opacity: 0; }
  .animation-delay-400 { animation-delay: 0.4s; opacity: 0; }

  @keyframes bounce-slow {
    0%, 20%, 50%, 80%, 100% { transform: translateY(0) translateX(-50%); }
    40% { transform: translateY(-10px) translateX(-50%); }
    60% { transform: translateY(-5px) translateX(-50%); }
  }
  @keyframes pulse-glow {
    0% { box-shadow: 0 0 0 0 rgba(251,191,36,0.7); }
    70% { box-shadow: 0 0 0 10px rgba(251,191,36,0); }
    100% { box-shadow: 0 0 0 0 rgba(251,191,36,0); }
  }
  .animate-bounce-slow { animation: bounce-slow 3s infinite; }
  .animate-pulse-glow { animation: pulse-glow 2s infinite; }

  .btn-primary:hover,
  .btn-secondary:hover,
  .btn-promociones:hover {
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }

  /* Scroll suave */
  .scroll-smooth-link { scroll-behavior: smooth; }
  html { scroll-behavior: smooth; }

  /* Panel de promociones */
  .promociones-panel.show { opacity: 1; visibility: visible; }
  .promociones-panel.show > div { transform: scale(1); }

  /* Responsive */
  @media (max-width: 640px) {
    .hero-bg-image { background-attachment: scroll; } /* rendimiento en móviles */
    .hero { min-height: 100vh; min-height: 100dvh; }
  }
  @media (max-width: 480px) {
    .btn-primary, .btn-secondary, .btn-promociones { font-size: 0.875rem; padding: 0.75rem 1.5rem; }
  }
  @media (max-width: 375px) {
    .btn-primary, .btn-secondary, .btn-promociones { font-size: 0.8rem; padding: 0.7rem 1.2rem; }
  }
 
</style>

<script>

  function togglePromociones() {
    const panel = document.getElementById("promocionesPanel");
    if (panel) {
      panel.classList.toggle("show");
      document.body.style.overflow = panel.classList.contains("show") ? "hidden" : "auto";
    }
  }

  // Cerrar modal al hacer clic fuera
  const promocionesPanel = document.getElementById("promocionesPanel");
  if (promocionesPanel) {
    promocionesPanel.addEventListener("click", (e) => {
      if (e.target === e.currentTarget) togglePromociones();
    });
  }
</script>
